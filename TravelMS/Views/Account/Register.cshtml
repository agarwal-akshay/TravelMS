@model TravelMS.Models.RegisterModel
@{
    ViewBag.Title = "Register";
}

<hgroup class="title">
    <h1>@ViewBag.Title.</h1>
    <h2>Create a new account.</h2>
</hgroup>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/jquery")
    
    <script type="text/javascript">
        $(document).ready(function () {
            document.getElementById("RegisterButton").disabled = true
        }
        );
        function checkAvailUser_ID() {
            var serviceURL = '/AjaxMethods/User_IDCheck';
            var User_ID=document.getElementById('User_ID').value;
            $.ajax({
                type: "POST",
                url: serviceURL,
                data: { User_ID: User_ID } ,
                dataType: "text",
                success: successFunc,
                error: errorFunc
            });

            function successFunc(data, status) {
                if (data == "1") {
                    document.getElementById("RegisterButton").disabled = false;
                    document.getElementById('User_ID').style.backgroundColor = 'lightgreen';
                    alert("User ID Available");
                }
                else {
                    document.getElementById('User_ID').style.backgroundColor = 'red';
                    alert("User ID Not Available");
                }
            }

            function errorFunc() {
                alert('error');
            }
        }
    </script>
}

@using (Html.BeginForm()) {
    @Html.AntiForgeryToken()
    @Html.ValidationSummary()
    <fieldset>
        <legend>New User Sign Up</legend>
        <ol>
            <li>
                @Html.LabelFor(m => m.User_ID)
                @Html.TextBoxFor(m => m.User_ID,new {@onkeypress="document.getElementById(\"RegisterButton\").disabled = true;document.getElementById('User_ID').style.backgroundColor='';"})
                <input id="Button1" type="button" value="Check User ID Availablity" onclick="checkAvailUser_ID()"/>
            </li>
            <li>
                @Html.LabelFor(m => m.Password)
                @Html.PasswordFor(m => m.Password)
            </li>
            <li>
                @Html.LabelFor(m => m.ConfirmPassword)
                @Html.PasswordFor(m => m.ConfirmPassword)
            </li>
            <li>
                @Html.LabelFor(m => m.Emp_ID)
                @Html.TextBoxFor(m => m.Emp_ID)
            </li>
            <li>
                @Html.LabelFor(m => m.Emp_Name)
                @Html.TextBoxFor(m => m.Emp_Name)
            </li>
            <li>
                @Html.LabelFor(m => m.Gender)
                @Html.RadioButtonFor(m=>m.Gender,"M") Male
                @Html.RadioButtonFor(m=>m.Gender,"F") Female
            </li>
            <li>
                @Html.LabelFor(m => m.Date_of_Birth)
                @Html.EditorFor(m=>m.Date_of_Birth)
            </li>
            <li>
                @Html.LabelFor(m => m.Date_of_Joining)
                @Html.EditorFor(m=>m.Date_of_Joining)
            </li>
            <li>
                @Html.LabelFor(m => m.Job_Level)
                @Html.TextBoxFor(m => m.Job_Level)
            </li>
            <li>
                @Html.LabelFor(m => m.Job_Location)
                @Html.TextBoxFor(m => m.Job_Location)
            </li>
        </ol>
        <input type="submit" value="Register" id="RegisterButton" />
    </fieldset>
}


